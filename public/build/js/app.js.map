{"version":3,"sources":["app.js"],"names":["mobileMenuBtn","document","querySelector","cerrarMenuBtn","sidebar","addEventListener","classList","add","setTimeout","remove","window","body","clientWidth","selectStatus","e","target","value","contenedorNivel","createElement","labelNivel","textContent","selectNivel","name","innerHTML","appendChild","contenedorNivelAnterior","eliminar","id","async","eliminarPerfil","datos","FormData","append","url","respuesta","fetch","method","resultado","json","swal","fire","mensaje","location","replace","error","preventDefault","Swal","title","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed"],"mappings":"AAEA,MAAMA,cAAcC,SAASC,cAAc,gBACrCC,cAAcF,SAASC,cAAc,gBACrCE,QAAQH,SAASC,cAAc,YAElCF,eAAeA,cAAcK,iBAAiB,SAAQ,WACrDD,QAAQE,UAAUC,IAAI,cAGvBJ,eAAeA,cAAcE,iBAAiB,SAAQ,WACrDD,QAAQE,UAAUC,IAAI,WAEtBC,WAAW,KACPJ,QAAQE,UAAUG,OAAO,WACzBL,QAAQE,UAAUG,OAAO,YAC1B,QAKPC,OAAOL,iBAAiB,UAAS,WAETJ,SAASU,KAAKC,aACd,KAChBR,QAAQE,UAAUG,OAAO,cAMjC,MAAMI,aAAaZ,SAASC,cAAc,WAEtCW,cAAcA,aAAaR,iBAAiB,SAAQ,SAASS,GAM7D,GAAY,MALCA,EAAEC,OAAOC,MAKN,CAEZ,MAAMC,EAAgBhB,SAASiB,cAAc,OAC7CD,EAAgBX,UAAUC,IAAI,QAAQ,UAGtC,MAAMY,EAAWlB,SAASiB,cAAc,SACxCC,EAAWC,YAAY,kBAEvB,MAAMC,EAAYpB,SAASiB,cAAc,UACzCG,EAAYC,KAAK,QAEjBD,EAAYE,UAAU,8GAKtBN,EAAgBO,YAAYL,GAC5BF,EAAgBO,YAAYH,GAGLpB,SAASC,cAAc,WAC7BsB,YAAYP,OAI5B,CAEA,MAAMQ,EAAwBxB,SAASC,cAAc,WAClDuB,GACCA,EAAwBhB,aAOrC,MAAMiB,SAASzB,SAASC,cAAc,aACtC,IAAIyB,GAAG1B,SAASC,cAAc,OAsB9B0B,eAAeC,eAAeF,GAE1B,MAAMG,EAAM,IAAIC,SAChBD,EAAME,OAAO,KAAKL,GAElB,IACI,MAAMM,EAAI,0CAEJC,QAAgBC,MAAMF,EAAI,CAC5BG,OAAO,OACPzB,KAAKmB,IAGHO,QAAiBH,EAAUI,OAG1BD,EAAUA,YACTE,KAAKC,KAAK,aAAaH,EAAUI,QAAQ,WAEzCjC,WAAW,KACPE,OAAOgC,SAASC,QAAQ,yCACzB,MAIb,MAAOC,GACLL,KAAKC,KAAK,SAAS,mBAAmB,UA/C9Cb,GAAGA,GAAGX,MAINU,SAASrB,iBAAiB,SAAQ,SAASS,GACvCA,EAAE+B,iBACFC,KAAKN,KAAK,CAENO,MAAO,oBACPC,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAiB,OACdC,KAAMC,IACDA,EAAOC,aACRxB,eAAeF","file":"app.js","sourcesContent":["//-----------Sidebar------------------------ \r\n\r\nconst mobileMenuBtn=document.querySelector('#mobile-menu');\r\nconst cerrarMenuBtn=document.querySelector('#cerrar-menu');\r\nconst sidebar=document.querySelector('.sidebar');\r\n\r\nif(mobileMenuBtn) mobileMenuBtn.addEventListener('click',function(){\r\n    sidebar.classList.add('mostrar');\r\n});\r\n\r\nif(cerrarMenuBtn) cerrarMenuBtn.addEventListener('click',function(){\r\n    sidebar.classList.add('ocultar');\r\n\r\n    setTimeout(() => {\r\n        sidebar.classList.remove('mostrar');\r\n        sidebar.classList.remove('ocultar');\r\n    }, 1000);\r\n});\r\n\r\n//Elimina la clase de mostrar, en un tamaño de tablet y mayores\r\n\r\nwindow.addEventListener('resize',function(){\r\n\r\n    const anchoPantalla=document.body.clientWidth;\r\n    if(anchoPantalla >= 768){\r\n        sidebar.classList.remove('mostrar');\r\n    }\r\n});\r\n\r\n//-------------------------Select(Crear-perfil)----------------------------\r\n\r\nconst selectStatus=document.querySelector('#status');\r\n\r\nif (selectStatus) selectStatus.addEventListener('input',function(e){\r\n    const status=e.target.value;\r\n\r\n    \r\n   \r\n    //Inserta DIV con LABEL Y SELECT para obtener los datos del nivel de acceso del proveedor\r\n    if(status==='1'){\r\n\r\n        const contenedorNivel=document.createElement('DIV');\r\n        contenedorNivel.classList.add('campo','existe');\r\n    \r\n\r\n        const labelNivel=document.createElement('LABEL');\r\n        labelNivel.textContent='Nivel de Acceso';\r\n\r\n        const selectNivel=document.createElement('SELECT');\r\n        selectNivel.name=\"nivel\";\r\n\r\n        selectNivel.innerHTML=`\r\n            <option value=0>Regular</option>\r\n            <option value=1>Privilegiado</option>\r\n        `;\r\n\r\n        contenedorNivel.appendChild(labelNivel);\r\n        contenedorNivel.appendChild(selectNivel);\r\n\r\n        //Inserción en el fieldset definido mediante HTML\r\n        const contenedorCampos=document.querySelector('#campos');\r\n        contenedorCampos.appendChild(contenedorNivel);\r\n\r\n       \r\n        \r\n    }else{\r\n         //Corrobora que el contenedorNivel no esté previamente definido para evitar duplicados.\r\n         const contenedorNivelAnterior=document.querySelector('.existe');\r\n         if(contenedorNivelAnterior){\r\n             contenedorNivelAnterior.remove();\r\n         }\r\n    }\r\n});\r\n\r\n//---------------------------Muestra alerta al momento de eliminar un usuario-------------------------\r\n\r\nconst eliminar=document.querySelector('#eliminar');\r\nlet id=document.querySelector('#id');\r\nid=id.value;\r\n\r\n\r\n\r\neliminar.addEventListener('click',function(e){\r\n    e.preventDefault();\r\n    Swal.fire({\r\n\r\n        title: '¿Eliminar Perfil?',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Si',\r\n        cancelButtonText:'No'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n               eliminarPerfil(id);\r\n            } \r\n        })\r\n\r\n});\r\n\r\n\r\nasync function eliminarPerfil(id) {\r\n    \r\n    const datos=new FormData();\r\n    datos.append('id',id);\r\n    \r\n    try {\r\n        const url=\"http://localhost:3000/perfiles/eliminar\";\r\n\r\n        const respuesta=await fetch(url,{\r\n            method:'POST',\r\n            body:datos\r\n        });\r\n\r\n        const resultado= await respuesta.json();\r\n           \r\n\r\n            if(resultado.resultado){\r\n                swal.fire('Eliminado!',resultado.mensaje,'success');\r\n\r\n                setTimeout(() => {\r\n                    window.location.replace(\"http://localhost:3000/perfiles/index\");\r\n                }, 1000);\r\n\r\n            } \r\n\r\n    } catch (error) {\r\n        swal.fire('Error!','Ocurrió un error','error');\r\n    }\r\n}"]}